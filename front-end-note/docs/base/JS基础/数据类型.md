# 数据类型

## 1、数据类型分类
基本数据类型中存储的是值，引用类型存储的是地址（指针）

### 基本数据类型

- Number
- String
- Boolean
- Undefined
- Null
- Symbol
- BigInt (ES10)

>Symbol表示独一无二的值，通常被用作创建对象属性的键值，可以确保不会与该对象其他属性名产生冲突

### 引用类型
JS中除原始类型之外的数据都为引用类型

- Object
- Array
- Function
- Math
- Date
- ...
## 2、基本包装类型

## 3、类型判断
### typeof
用于基本数据类型时，typeof 方法可以正确判断除 null 之外的类型
> typeof null 不能返回正确数据类型的原因是 JS 设计之初的bug所致

``` javascript
	typeof 1  // number"
	typeof "1"  // "string"
	typeof true  // "boolean"
	typeof undefined  // "undefined"
	typeof null  // "object"
	typeof Symbol()  // "symbol"
	typeof 1n  // "bigint"
```

用于引用类性时，除了函数以外的对象 typeof 都会返回"object"

``` javascript
	typeof []  // "object"
	typeof {}  // "object"
	typeof function foo () {}  // "function"
```

### instanceof
对于引用数据类型可以使用 instanceof 方法进行判断，其原理是通过查找原型链的方式判断构造函数的 prototype 属性是否出现在实例的原型链上

``` javascript
	[] instanceof Array  // true
	[] instanceof Function  // false
```

基本原理
``` javascript
	const myInstanceOf = (left, right) => {

		if (typeof left !== 'object' || left === null) return false
		if (typeof right !== 'object' || right === null) return false

		// 获取隐式原型，即实例的构造函数的prototype属性值
		let proto = Object.getPrototypeOf(left)
		let target = right.prototype

		// 继续沿原型链向上查找
		while (true) {
			if(proto === null) return false
			if(proto === target) return true
			proto = Object.getPrototypeOf(proto)
		}
	}
```

### Object.prototype.toString.call
通过 call/apply 调用Object.prototype.toString方法，可以正确获得 Object 之外数据类型的返回值
``` javascript
	Object.prototype.toString.call(123)  // [object Number]
	Object.prototype.toString.call('123')  // [object String]
	Object.prototype.toString.call(null)  // [object Null]
	Object.prototype.toString.call([])  // [object Array]
	Object.prototype.toString.call({})  // [object Object]
	Object.prototype.toString.call(console.log)  // [object Function]
```

## 4、类型转换
JS的类型转换中，数据将会被转化为以下三种数据类型之一：

- Number
- String
- Boolean

### == 运算符的转换规则
使用 == 运算符进行判断时，若数据类型不相同，会在值的比较之前会先进行类型转换

判断规则如下

>- null与undefined进行判断返回true
>- String与Number进行判断，将String类型转换成Number类型后进行比较
>- 其中一方为Boolean，将Boolean转换成Number类型后进行比较
>- 其中一方为Object，且另一方为String、Number或者Symbol，将Object转换成字符串后进行比较

### 对象转原始类型

- 优先调用valueOf()方法
- 调用toString()方法
- 若valueOf()方法与toString()方法未返回原始类型，报错